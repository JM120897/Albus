<?xml version="1.0" encoding="UTF-8"?>
<openerp>
  <data>
    <!-- Declaración del workflow -->
    <record model="workflow" id="wkf_mantenimiento">
      <field name="name">mantenimiento.wkf</field>
      <field name="osv">mantenimiento</field>
      <field name="on_create">True</field>
    </record>

    <!-- Declaración de nodos -->
    <record model="workflow.activity" id="act_new">
      <field name="wkf_id" ref="wkf_mantenimiento"/>
      <field name="flow_start">True</field>
      <field name="name">new</field>
      <field name="kind">function</field>
      <field name="action">mymod_new()</field>
    </record>

    <record model="workflow.activity" id="act_enmante">
      <field name="wkf_id" ref="wkf_mantenimiento"/>
      <field name="name">enmante</field>
      <field name="kind">function</field>
      <field name="action">mymod_admitido()</field>
    </record>

    <record model="workflow.activity" id="act_finalizado">
      <field name="wkf_id" ref="wkf_mantenimiento"/>
      <field name="name">finalizado</field>
      <field name="kind">function</field>
      <field name="action">mymod_finalizado()</field>
    </record>

    <!-- Declaración de las transiciones -->
    <record model="workflow.transition" id="t1">
      <field name="act_from" ref="act_new"/>
      <field name="act_to" ref="act_enmante"/>
      <field name="signal">mymod_admitido</field>
    </record>

    <record model="workflow.transition" id="t2">
      <field name="act_from" ref="act_enmante"/>
      <field name="act_to" ref="act_finalizado"/>
      <field name="signal">finalizado</field>
    </record>

    </data>
  </openerp>
